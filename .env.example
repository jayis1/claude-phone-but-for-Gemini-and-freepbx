 ====================================
# Gemini Phone Configuration
# ====================================
# Copy this to .env and fill in your values

# ====================================
# Network Configuration
# ====================================

# Your server's LAN IP (CRITICAL for RTP audio)
# This IP goes into SDP packets so FreePBX knows where to send audio
EXTERNAL_IP=10.0.0.100

# ====================================
# Drachtio Configuration
# ====================================

DRACHTIO_HOST=127.0.0.1
DRACHTIO_PORT=9022
DRACHTIO_SECRET=cymru

# SIP port for Contact header (5060 for standard SIP registration)
# This MUST match the port in docker-compose.yml drachtio command
DRACHTIO_SIP_PORT=5060

# ====================================
# FreeSWITCH Configuration
# ====================================

FREESWITCH_HOST=127.0.0.1
FREESWITCH_PORT=8021
FREESWITCH_SECRET=JambonzR0ck$

# ====================================
# FreePBX / Asterisk Configuration
# ====================================

# Your FreePBX server IP or Hostname
SIP_DOMAIN=192.168.1.100
# SIP Registrar (usually same as Domain for FreePBX)
SIP_REGISTRAR=192.168.1.100
#
# FreePBX API Credentials (for Auto-Provisioning & Firewall)
# Create a Client ID in Admin -> API -> REST API (Client Credentials Grant)
FREEPBX_API_URL=http://192.168.1.100/
FREEPBX_CLIENT_ID=
FREEPBX_CLIENT_SECRET=
FREEPBX_TRUNK_NAME=RedSpot
# IP of this machine (Gemini App Stack) to be whitelisted
GEMINI_APP_STACK_IP=


# Extension for the AI agent (e.g., 9000)
# Create this PJSIP extension in FreePBX first
SIP_EXTENSION=9000

# Authentication ID (usually same as extension for PJSIP)
SIP_AUTH_ID=9000

# Secret / Password for the extension
SIP_PASSWORD=your-secret-password

# Default caller ID for outbound PSTN calls
# Ensure your Outbound Routes in FreePBX allow this CID
DEFAULT_CALLER_ID=+15551234567

# ====================================
# Gemini API Server
# ====================================

# URL to your Gemini API server (runs on your API server with Gemini_cli)
# For local setup: http://localhost:3333
# For remote setup: http://<api-server-ip>:3333
# For remote setup: http://<api-server-ip>:3333
GEMINI_API_URL=http://127.0.0.1:3333

# Your Gemini CLI API Key (optional for Pi voice-server mode)
# If provided, the installer will automatically configure your shell
GEMINI_API_KEY=

# Optional: Dedicated Key for Mission Control Terminal
# If set, the "Gemini Bridge Terminal" will use this instead of the main key
MISSION_CONTROL_GEMINI_KEY=

# n8n Integration (Optional)
# If set, Voice App sends prompts directly to n8n instead of inference-server
# N8N_WEBHOOK_URL=http://your-n8n-instance.com/webhook/gemini-phone
# SKILL CLUSTER: Slots 2-8 for specialized logic
# N8N_WEBHOOK_URL_2=http://...
# N8N_WEBHOOK_URL_3=http://...
# N8N_WEBHOOK_URL_4=http://...
# N8N_WEBHOOK_URL_5=http://...
# N8N_WEBHOOK_URL_6=http://...
# N8N_WEBHOOK_URL_7=http://...
# N8N_WEBHOOK_URL_8=http://...
# Use N8N_API_KEY for health checks and Mission Control management
# N8N_API_KEY=your-n8n-api-key
# N8N_BASE_URL=http://your-n8n-instance.com

# ====================================
# ElevenLabs TTS
# ====================================

ELEVENLABS_API_KEY=your-elevenlabs-api-key

# Default voice ID (if not specified per-device)
ELEVENLABS_VOICE_ID=your-default-voice-id

# ====================================
# OpenAI (Whisper STT)
# ====================================

OPENAI_API_KEY=your-openai-api-key

# ====================================
# Application Settings
# ====================================

# HTTP server port for API and audio file serving
HTTP_PORT=3434

# WebSocket port for audio streaming from FreeSWITCH
WS_PORT=3001

# Audio files directory
AUDIO_DIR=/app/audio

# ====================================
# Outbound Call Settings
# ====================================

# Default Caller ID (E.164 format preferred, e.g. +15551234567)
DEFAULT_CALLER_ID=

# Maximum conversation turns for outbound calls
MAX_CONVERSATION_TURNS=10

# Ring timeout in seconds
OUTBOUND_RING_TIMEOUT=30

# ====================================
# Optional: Debug
# ====================================

# DEBUG=voice-app:*
MISSION_CONTROL_PORT=3030
