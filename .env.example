# ====================================
# Gemini Phone Configuration
# ====================================
# Copy this to .env and fill in your values
#
# ====================================
# n8n Integration (Optional)
# ====================================
#
# Global webhook URL for ALL call events (start, speech, end).
# If set, Gemini Phone will POST call details and transcripts to this URL.
# N8N_WEBHOOK_URL=http://your-n8n-instance.com/webhook/gemini-phone-events
#
# Event Types sent to the webhook:
# - start: When a call is answered
# - speech: Each time user speaks (includes transcript)
# - end: When call is terminated
#
# ====================================
# ====================================
# Network Configuration
# ====================================

# Your server's LAN IP (CRITICAL for RTP audio)
# This IP goes into SDP packets so FreePBX knows where to send audio
EXTERNAL_IP=10.0.0.100

# SSH Password for Remote Voicemail Mount (sshfs)
# If set, gemini-phone start will auto-mount the voicemail directory
SSH_PASS=your-ssh-password
VOICEMAIL_MOUNT_USER=root

# ====================================
# Drachtio Configuration
# ====================================

DRACHTIO_HOST=127.0.0.1
DRACHTIO_PORT=9022
DRACHTIO_SECRET=cymru

# SIP port for Contact header (5070 for SBC mode, 5060 for direct registration)
# This MUST match the port in docker-compose.yml drachtio command
DRACHTIO_SIP_PORT=5060

# ====================================
# FreeSWITCH Configuration
# ====================================

FREESWITCH_HOST=127.0.0.1
FREESWITCH_PORT=8021
FREESWITCH_SECRET=JambonzR0ck$

# ====================================
# FreePBX / SIP Configuration
# ====================================

# Your FreePBX server hostname or IP
SIP_DOMAIN=your-freepbx-server.org
SIP_REGISTRAR=10.0.0.50

# Default extension for outbound calls
SIP_EXTENSION=9000
SIP_AUTH_ID=your-auth-id
SIP_PASSWORD=your-password

# Default caller ID for outbound PSTN calls
DEFAULT_CALLER_ID=+15551234567

# ====================================
# FreePBX API Configuration (Optional)
# ====================================
#
# FreePBX M2M API credentials for automated provisioning
# FREEPBX_CLIENT_ID=your-client-id
# FREEPBX_CLIENT_SECRET=your-client-secret
# FREEPBX_API_URL=https://your-freepbx-ip/admin/api/graphql
# GEMINI_APP_STACK_IP=auto
#
# ====================================

# ====================================
# Gemini API Server
# ====================================

# URL to your Gemini API server (runs on your API server with Gemini CLI)
GEMINI_API_URL=http://10.0.0.200:3333

# Optional: Gemini API Key (if not using 'gemini login')
GEMINI_API_KEY=your-gemini-api-key

# ====================================
# ElevenLabs TTS
# ====================================

ELEVENLABS_API_KEY=your-elevenlabs-api-key

# Default voice ID (if not specified per-device)
ELEVENLABS_VOICE_ID=your-default-voice-id

# ====================================
# OpenAI (Whisper STT)
# ====================================

OPENAI_API_KEY=your-openai-api-key

# ====================================
# Application Settings
# ====================================

# HTTP server port for API and audio file serving
HTTP_PORT=3000

# WebSocket port for audio streaming from FreeSWITCH
WS_PORT=3001

# Audio files directory
AUDIO_DIR=/app/audio

# ====================================
# Outbound Call Settings
# ====================================

# Maximum conversation turns for outbound calls
MAX_CONVERSATION_TURNS=10

# Ring timeout in seconds
OUTBOUND_RING_TIMEOUT=30

# ====================================
# Optional: Debug
# ====================================

# DEBUG=voice-app:*
